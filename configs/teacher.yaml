# Teacher configuration for data generation
# Uses OpenRouter with 3 paid models and optional Structured Outputs (JSON Schema)

# Provider and model fallback chain (order matters)
provider: openrouter
models:
  - x-ai/grok-4.1-fast
  - qwen/qwen-2.5-72b-instruct
  - meta-llama/llama-3.3-70b-instruct

# Structured Outputs (OpenRouter JSON Schema enforcement)
structured_outputs:
  enabled: true
  strict: true
  require_parameters: true

# Generation parameters (max_tokens must allow full JSON for drafts/refinement; 900 truncates long payloads)
generation:
  temperature: 0.2
  top_p: 0.9
  max_tokens: 4096
  seed: 42

# Runtime behavior
runtime:
  dry_run: false
  timeout_s: 60
  fallback_to_paid: true

# Rate limiting and retry (bounded, deterministic)
rate_limit:
  rpm: 15
  jitter_ms: 0
  max_retries_per_model: 1
max_total_attempts: 3

# Safety limits
safety:
  max_requests: 500
  max_total_tokens: 2000000